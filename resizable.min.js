var gi=Object.create;var Xe=Object.defineProperty;var vi=Object.getOwnPropertyDescriptor;var wi=Object.getOwnPropertyNames;var bi=Object.getPrototypeOf,yi=Object.prototype.hasOwnProperty;var f=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var xi=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of wi(e))!yi.call(i,s)&&s!==t&&Xe(i,s,{get:()=>e[s],enumerable:!(r=vi(e,s))||r.enumerable});return i};var m=(i,e,t)=>(t=i!=null?gi(bi(i)):{},xi(e||!i||!i.__esModule?Xe(t,"default",{value:i,enumerable:!0}):t,i));var T=f((ir,Me)=>{Me.exports=function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);this.left=e||0,this.top=t||0,this.right=r||0,this.bottom=s||0,this.width=Math.abs(this.right-this.left),this.height=Math.abs(this.bottom-this.top)}});var Ye=f(oe=>{oe.x=function(){return window.innerHeight>document.documentElement.clientHeight};oe.y=function(){return window.innerWidth>document.documentElement.clientWidth}});var Ce=f((sr,qe)=>{var L=document.createElement("div"),A=L.style;A.width="100px";A.height="100px";A.overflow="scroll";A.position="absolute";A.top="-9999px";document.documentElement.appendChild(L);qe.exports=L.offsetWidth-L.clientWidth;document.documentElement.removeChild(L)});var Le=f((nr,Te)=>{Te.exports=function(i){var e=i;if(i===window)return!0;if(i===document)return!1;for(;e;){if(getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}});var He=f((or,Ae)=>{Ae.exports=document.createElement("div")});var Ie=f((ar,he)=>{var ae=getComputedStyle(document.documentElement,"");ae?(O=(Array.prototype.slice.call(ae).join("").match(/-(moz|webkit|ms)-/)||ae.OLink===""&&["","o"])[1],Fe="WebKit|Moz|MS|O".match(new RegExp("("+O+")","i"))[1],he.exports={dom:Fe,lowercase:O,css:"-"+O+"-",js:O[0].toUpperCase()+O.substr(1)}):he.exports={dom:"",lowercase:"",css:"",js:""};var O,Fe});var fe=f((hr,Pe)=>{var Re=He().style,ke=Ie().lowercase;Pe.exports=function(i,e){if(!(!i||!e)){var t,r;if(typeof e=="string"){if(t=e,arguments.length<3)return i.style[We(t)];r=arguments[2]||"",e={},e[t]=r}for(t in e)typeof e[t]=="number"&&/left|right|bottom|top|width|height/i.test(t)&&(e[t]+="px"),r=e[t]||"",i.style[We(t)]=r}};function We(i){var e=i[0].toUpperCase()+i.slice(1);return Re[i]!==void 0?i:Re[ke+e]!==void 0?ke+e:""}});var H=f((fr,Ke)=>{Ke.exports=function(i){return i+="",parseFloat(i.slice(0,-2))||0}});var Be=f((lr,De)=>{var Si=fe(),zi=H();De.exports=function(i){var e=Si(i,"transform"),t=/translate(?:3d)?\s*\(([^\)]*)\)/.exec(e);if(!t)return[0,0];var r=t[1].split(/\s*,\s*/);return r.map(function(s){return zi(s)})}});var ue=f((dr,$e)=>{var z=window,W=document,le=T(),P=Ye(),K=Ce(),_i=Le(),ur=Be();$e.exports=Ne;function Ne(i){if(!i)throw Error("Bad argument");var e,t;if(i===z)return t=le(z.pageXOffset,z.pageYOffset),t.width=z.innerWidth-(P.y()?K:0),t.height=z.innerHeight-(P.x()?K:0),t.right=t.left+t.width,t.bottom=t.top+t.height,t;if(i===W){var r=Ne(W.documentElement);return r.bottom=Math.max(window.innerHeight,r.bottom),r.right=Math.max(window.innerWidth,r.right),r.height=Math.max(window.innerHeight,r.height),r.width=Math.max(window.innerHeight,r.width),P.y(W.documentElement)&&(r.right-=K),P.x(W.documentElement)&&(r.bottom-=K),r}try{e=i.getBoundingClientRect()}catch{e=le(i.clientLeft,i.clientTop)}var s=_i(i),o=s?0:z.pageXOffset,n=s?0:z.pageYOffset;return t=le(e.left+o,e.top+n,e.left+o+i.offsetWidth,e.top+n+i.offsetHeight),t}});var B=f((cr,Ue)=>{Ue.exports={freeze:Ei,unfreeze:Oi,isFrozen:Xi};var D=new WeakMap;function Ei(i,e){var t=D.get(i);return t&&t[e]?!1:(t||(t={},D.set(i,t)),t[e]=!0,!0)}function Oi(i,e){var t=D.get(i);return!t||!t[e]?!1:(t[e]=null,!0)}function Xi(i,e){var t=D.get(i);return t&&t[e]}});var $=f((pr,Ve)=>{var N=new WeakMap;function Mi(i,e,t){var r=N.get(i),s;if(!e){if(s=r||{},t&&t.length){var o={};for(var e in s)o[e]=s[e].filter(function(a){return de(a,t)});s=o}return s}return!r||!r[e]?[]:(s=r[e],t&&t.length&&(s=s.filter(function(n){return de(n,t)})),s)}function Yi(i,e,t,r){var s=N.get(i);if(!s||!s[e])return!1;var o=s[e];if(r&&r.length&&!de(t,r))return!1;for(var n=0;n<o.length;n++)if(o[n]===t){o.splice(n,1);break}}function qi(i,e,t,r){if(t){var s=N.get(i);s||(s={},N.set(i,s)),(s[e]=s[e]||[]).push(t),r&&r.length&&(t._ns=r)}}function de(i,e){if(!i._ns)return!1;for(var t=e.length;t--;)if(i._ns.indexOf(e[t])>=0)return!0}Ve.exports={get:Mi,remove:Yi,add:qi}});var ce=f((mr,Ze)=>{"use strict";Ze.exports=X;var Qe=B(),U=$();function X(i,e,t){if(!i)return i;var r,s;if(t===void 0){var o=[].slice.call(arguments,1),n=i.removeAll||i.removeAllListeners;if(n&&n.apply(i,o),!e){r=U.get(i);for(e in r)X(i,e);return i}if(typeof e=="function"){t=e,e=null,r=U.get(i);for(e in r)r[e].indexOf(t)>=0&&X(i,e,t);return i}return e=""+e,e.split(/\s+/).forEach(function(u){var c=u.split(".");if(u=c.shift(),r=U.get(i,u,c),u){var d={};d[u]=r,r=d}for(var w in r)[].slice.call(r[w]).forEach(function(S){X(i,w,S)})}),i}Array.isArray(e)||(e=(e+"").split(/\s+/));var a=i.removeEventListener||i.removeListener||i.detachEvent||i.off;if(e.forEach(function(u){var c=u.split(".");if(u=c.shift(),a)if(Qe.freeze(i,"off"+u))a.call(i,u,t),Qe.unfreeze(i,"off"+u);else return i;U.remove(i,u,t,c)}),t.__wrapFn){var l=t.__wrapFn;t.__wrapFn=null,X(i,e,l)}if(t.__origFn){var l=t.__origFn;t.__origFn=null,X(i,e,l)}return i}});var Je=f((gr,Ge)=>{"use strict";var je=B(),Ci=$(),Ti=ce();Ge.exports=Li;function Li(i,e,t,r={}){if(!i)return i;if(typeof i=="string"||r.target){for(;t.__wrapFn;)t=t.__wrapFn;var s=i;i=r.target||document,t.__wrapFn=Ai.bind({target:i,selector:s,cb:t}),t.__wrapFn.__origFn=t,t=t.__wrapFn}Array.isArray(e)||(e=(e+"").split(/\s+/));var o=i.addEventListener||i.addListener||i.attachEvent||i.on;return e.forEach(function(n){var a=n.split(".");if(n=a.shift(),o)if(je.freeze(i,"on"+n))o.call(i,n,t),je.unfreeze(i,"on"+n);else return i;Ci.add(i,n,t,a)}),function(){Ti(i,e,t)}}function Ai(i){var e=this.cb,t=this.selector,r=this.target,s=i.target;s!==r&&(Array.isArray(t)||(t=[t]),t.some(function(o){var n;if(typeof o!="string"){if(!o.contains(s))return!1;n=o}else n=s.closest&&s.closest(o);return n&&r!==n&&r.contains(n)?(i.delegateTarget=n,!0):!1})&&e.apply(s,arguments))}});var ge=f((vr,it)=>{var et=B(),Hi=$();it.exports=function(i,e,t,r){if(i){var s=arguments;return typeof e=="string"?(s=[].slice.call(arguments,2),e.split(/\s+/).forEach(function(o){tt.apply(this,[i,o].concat(s))}),i):tt.apply(this,s)}};var pe=typeof jQuery>"u"?void 0:jQuery,me=typeof document>"u"?void 0:document,Fi=typeof window>"u"?void 0:window;function tt(i,e,t,r){var s,o=e;me&&(i instanceof Node||i===Fi)?(me&&e instanceof Event?o=e:(o=me.createEvent("CustomEvent"),o.initCustomEvent(e,r,!0,t)),s=i.dispatchEvent):pe&&i instanceof pe?(o=pe.Event(e,t),o.detail=t,s=r?targte.trigger:i.triggerHandler):s=i.dispatchEvent||i.emit||i.trigger||i.fire||i.raise;var n=[].slice.call(arguments,2);if(s&&et.freeze(i,"emit"+e))return s.apply(i,[o].concat(n)),et.unfreeze(i,"emit"+e),i;var a=o.split(".");o=a.shift();for(var l=Hi.get(i,o,a),u=l.slice(),c=0;c<u.length;c++)u[c]&&u[c].apply(i,n);return i}});var rt=f((wr,V)=>{V.exports.on=Je();V.exports.off=ce();V.exports.emit=ge()});var at=f((br,ot)=>{function st(i,e){return i.touches?arguments.length>1?ve(i.touches,e).clientY:i.targetTouches[0].clientY:i.clientY}function nt(i,e){return i.touches?arguments.length>e?ve(i.touches,e).clientX:i.targetTouches[0].clientX:i.clientX}function Q(i,e){return[nt.apply(this,arguments),st.apply(this,arguments)]}function ve(i,e){for(var t=0;t<i.length;t++)if(i[t].identifier===e)return i[t]}Q.x=nt;Q.y=st;Q.findTouch=ve;ot.exports=Q});var ft=f((yr,ht)=>{"use strict";ht.exports=function(e){return typeof e=="object"?e===null:typeof e!="function"}});var ut=f((xr,lt)=>{"use strict";var Ii=ft();b.OTHERWISE="_";b.ENTER="enter";b.EXIT="exit";function b(i,e){if(i instanceof b)return i;if(!(this instanceof b))return new b(i);this.states=i||{},this.context=e||this,this.inited=!1}b.prototype.set=function(i){var e=this.state,t=this.states,r=b.ENTER,s=b.EXIT,o=b.OTHERWISE,n=t[e]!==void 0?e:o,a=t[n],l,u=s+n;if(this.inited){if(a&&!this[u]){if(this[u]=!0,l=a[s]&&a[s].call?a[s].call(this.context):a[1]&&a[1].call?a[1].call(this.context):a[s],l===!1)return this[u]=!1,!1;if(l!==void 0&&l!==i)return this.set(l),this[u]=!1,!1;if(this[u]=!1,this.state!==e)return}if(i===e)return!1}else this.inited=!0;this.state=i;var c=t.hasOwnProperty(i)?i:o,d=t[c],w,S=r+c;if(!this[S]){if(this[S]=!0,d?d.call?w=d.call(this.context):Array.isArray(d)?w=d[0]&&d[0].call?d[0].call(this.context,this):d[0]:d.hasOwnProperty(r)?w=d[r].call?d[r].call(this.context):d[r]:Ii(d)&&(w=d):w=d,w===!1)return this.set(e),this[S]=!1,!1;if(w!==void 0&&w!==i)return this.set(w),this[S]=!1,!1;this[S]=!1}return this.context};b.prototype.get=function(){return this.state};lt.exports=b});var ct=f((Sr,dt)=>{dt.exports=Ri;var we=ut();we.ENTER="before";we.EXIT="after";function Ri(i,e,t,r){r?i[e]=function(){return arguments.length?s.set(arguments[0]):s.get()}:Object.defineProperty(i,e,{set:function(o){return s.set(o)},get:function(){return s.get()}});var s=new we(t,i);return i}});var mt=f((zr,pt)=>{pt.exports=function(e,t){t||(t=[0,""]),e=String(e);var r=parseFloat(e,10);return t[0]=r,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}});var bt=f((_r,wt)=>{"use strict";var gt=mt();wt.exports=ye;var F=vt("in",document.body);function be(i,e){var t=gt(getComputedStyle(i).getPropertyValue(e));return t[0]*ye(t[1],i)}function vt(i,e){var t=document.createElement("div");t.style.height="128"+i,e.appendChild(t);var r=be(t,"height")/128;return e.removeChild(t),r}function ye(i,e){if(!i)return null;switch(e=e||document.body,i=(i+""||"px").trim().toLowerCase(),(e===window||e===document)&&(e=document.body),i){case"%":return e.clientHeight/100;case"ch":case"ex":return vt(i,e);case"em":return be(e,"font-size");case"rem":return be(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return F;case"cm":return F/2.54;case"mm":return F/25.4;case"pt":return F/72;case"pc":return F/6;case"px":return 1}var t=gt(i);if(!isNaN(t[0])&&t[1]){var r=ye(t[1],e);return typeof r=="number"?t[0]*r:null}return null}});var ee=f((Or,zt)=>{zt.exports=function(i){return i instanceof Array}});var k=f((Xr,_t)=>{_t.exports=function(i){return typeof i=="string"||i instanceof String}});var Se=f((Mr,Et)=>{Et.exports=function(i){return!!i&&typeof i=="object"&&i.constructor===Object}});var Xt=f((Yr,Ot)=>{Ot.exports=function(i){return function(e){var t=arguments;if(e instanceof Array){for(var r=new Array(e.length),s,o=0;o<e.length;o++){s=[];for(var n=0,a=t.length,l;n<a;n++)l=t[n]instanceof Array?t[n][o]:t[n],l=l,s.push(l);r[o]=i.apply(this,s)}return r}else if(typeof e=="object"){var r={},s;for(var o in e){s=[];for(var n=0,a=t.length,l;n<a;n++)l=typeof t[n]=="object"?t[n][o]:t[n],l=l,s.push(l);r[o]=i.apply(this,s)}return r}else return i.apply(this,t)}}});var Yt=f((qr,Mt)=>{Mt.exports=Xt()(function(i,e,t){return t>e?Math.max(Math.min(i,t),e):Math.max(Math.min(i,e),t)})});var Ct=f((Cr,qt)=>{qt.exports=function(i,e){return i?i[e]?!0:e in i:!1}});var ze=f((Tr,Tt)=>{Tt.exports=function(i){return!!(i&&i.apply)}});var _e=f((Lr,Lt)=>{Lt.exports=function(i){return typeof i=="number"||i instanceof Number}});var Ee=f((Ar,At)=>{At.exports=function(i){return typeof i=="boolean"||i instanceof Boolean}});var Ft=f((Hr,Ht)=>{var Bi=k(),Ni=_e(),$i=Ee();Ht.exports=function(e){return!e||Bi(e)||Ni(e)||$i(e)}});var Rt=f((Fr,It)=>{var Ui=k(),Vi=ee(),Qi=ze();It.exports=function(i){return Vi(i)||i&&!Ui(i)&&!i.nodeType&&(typeof window<"u"?i!=window:!0)&&!Qi(i)&&typeof i.length=="number"}});var Wt=f((Ir,kt)=>{kt.exports=function(i){return typeof document<"u"&&i instanceof HTMLElement}});var Kt=f((Rr,Pt)=>{Pt.exports=function(i){return i[0]==="_"&&i.length>1}});var Bt=f((kr,Dt)=>{Dt.exports=function(i){return i instanceof RegExp}});var $t=f((Wr,Nt)=>{Nt.exports=function(i){if(!i)return!0;for(var e in i)return!1;return!0}});var Vt=f((Pr,Ut)=>{Ut.exports={has:Ct(),isObject:Se(),isFn:ze(),isString:k(),isNumber:_e(),isBoolean:Ee(),isPlain:Ft(),isArray:ee(),isArrayLike:Rt(),isElement:Wt(),isPrivateName:Kt(),isRegExp:Bt(),isEmpty:$t()}});var Zt=f((Kr,Qt)=>{Qt.exports=ji;var Zi=Object.prototype.hasOwnProperty;function ji(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Zi.call(t,r)&&(i[r]=t[r])}return i}});var Gt=f((Dr,jt)=>{var q=Vt(),Gi=Zt();jt.exports=te;function te(i,e,t){if((e||t)&&(q.isBoolean(t)||q.isString(e)||q.isRegExp(e))){var r=e;e=t,t=r}t=t===void 0?te.separator:t;var s,o;for(var n in i)o=i[n],e&&q.isObject(o)&&te(o,e,t),s=n.split(t),s.length>1&&(delete i[n],s.forEach(a));function a(l){o!==i[l]&&q.isObject(o)&&q.isObject(i[l])?i[l]=Gi({},i[l],o):i[l]=o}return i}te.separator=/\s?,\s?/});var ti=f((Br,ei)=>{var Jt=T(),ie=H();ei.exports=function(i){if(i===window)return Jt();if(!(i instanceof Element))throw Error("Argument is not an element");var e=window.getComputedStyle(i);return Jt(ie(e.paddingLeft),ie(e.paddingTop),ie(e.paddingRight),ie(e.paddingBottom))}});var si=f((Nr,ri)=>{var ii=T(),re=H();ri.exports=function(i){if(i===window)return ii();if(!(i instanceof Element))throw Error("Argument is not an element");var e=window.getComputedStyle(i);return ii(re(e.borderLeftWidth),re(e.borderTopWidth),re(e.borderRightWidth),re(e.borderBottomWidth))}});var ai=f(($r,oi)=>{var se=H(),ni=T();oi.exports=function(i){if(i===window)return ni();if(!(i instanceof Element))throw Error("Argument is not an element");var e=window.getComputedStyle(i);return ni(se(e.marginLeft),se(e.marginTop),se(e.marginRight),se(e.marginBottom))}});var I=m(ue(),1),h=m(rt(),1),y=m(at(),1),St=m(ct(),1),R=m(bt(),1),_=window,g=document,yt=g.documentElement,Z=0,xe=class i{static cache=new WeakMap;css3=!0;axis=null;constructor(e,t){var r=i.cache.get(e);if(r)return r.state="reset",Object.assign(r,t),r.update(),r;this.id=Math.random().toString(36).substring(2,15),this._ns=".draggy_"+this.id,this.element=e,i.cache.set(e,this),(0,St.default)(this,"state",i.state),this.currentHandles=[],Object.assign(this,t),this.handle===void 0&&(this.handle=this.element),this.droppable&&((0,h.on)(this,"dragstart",()=>{this.dropTargets=J(this.droppable)}),(0,h.on)(this,"drag",()=>{if(this.dropTargets){var s=(0,I.default)(this.element);this.dropTargets.forEach(o=>{var n=(0,I.default)(o);Wi(s,n,this.droppableTolerance)?(this.droppableClass&&o.classList.add(this.droppableClass),this.dropTarget||(this.dropTarget=o,(0,h.emit)(this,"dragover",o),(0,h.emit)(o,"dragover",this))):(this.dropTarget&&((0,h.emit)(this,"dragout",o),(0,h.emit)(o,"dragout",this),this.dropTarget=null),this.droppableClass&&o.classList.remove(this.droppableClass))})}}),(0,h.on)(this,"dragend",()=>{this.dropTarget&&((0,h.emit)(this.dropTarget,"drop",this),(0,h.emit)(this,"drop",this.dropTarget),this.dropTarget.classList.remove(this.droppableClass),this.dropTarget=null)})),this.update(),this.state="idle"}on(e,t){return(0,h.on)(this,e,t)}off(e,t){return(0,h.off)(this,e,t)}static state={_:{before:function(){this.element.classList.add("draggy-idle"),(0,h.emit)(this.element,"idle",null,!0),(0,h.emit)(this,"idle"),this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.altKey=!1,this.movementX=0,this.movementY=0,this.deltaX=0,this.deltaY=0,(0,h.on)(g,"mousedown"+this._ns+" touchstart"+this._ns,e=>{e.draggies&&(e.draggies.indexOf(this)<0||e.target.name===void 0&&(this.setTouch(e),this.update(e),this.state="threshold"))})},after:function(){this.element.classList.remove("draggy-idle"),(0,h.off)(g,this._ns),this.release&&(this._trackingInterval=setInterval(e=>{var t=Date.now(),r=t-this.timestamp,s=this.prevX-this.frame[0],o=this.prevY-this.frame[1];this.frame[0]=this.prevX,this.frame[1]=this.prevY;var n=Math.sqrt(s*s+o*o),a=Math.min(this.velocity*n/(1+r),this.maxSpeed);return this.speed=.8*a+.2*this.speed,this.angle=Math.atan2(o,s),(0,h.emit)(this,"track"),this},this.framerate))}},threshold:{before:function(){if(ki(this.threshold)){this.state="drag";return}this.element.classList.add("draggy-threshold"),(0,h.emit)(this,"threshold"),(0,h.emit)(this.element,"threshold"),(0,h.on)(g,"touchmove"+this._ns+" mousemove"+this._ns,e=>{e.preventDefault();var t=(0,y.x)(e,this.touchIdx),r=(0,y.y)(e,this.touchIdx),s=this.prevMouseX-t,o=this.prevMouseY-r;(s<this.threshold[0]||s>this.threshold[2]||o<this.threshold[1]||o>this.threshold[3])&&(this.update(e),this.state="drag")}),(0,h.on)(g,"mouseup"+this._ns+" touchend"+this._ns,e=>{e.preventDefault(),Z=0,this.touchIdx=null,this.state="idle"})},after:function(){this.element.classList.remove("draggy-threshold"),(0,h.off)(g,this._ns)}},drag:{before:function(){xt.disable(yt),this.element.classList.add("draggy-drag"),(0,h.emit)(this,"dragstart"),(0,h.emit)(this.element,"dragstart",null,!0),(0,h.emit)(this,"drag"),(0,h.emit)(this.element,"drag",null,!0),(0,h.on)(g,"touchend"+this._ns+" mouseup"+this._ns+" mouseleave"+this._ns,e=>{e.preventDefault(),Z=0,this.touchIdx=null,this.speed>1?this.state="release":this.state="idle"}),(0,h.on)(g,"touchmove"+this._ns+" mousemove"+this._ns,e=>{this.drag(e)})},after:function(){xt.enable(yt),this.element.classList.remove("draggy-drag"),(0,h.emit)(this,"dragend"),(0,h.emit)(this.element,"dragend",null,!0),(0,h.off)(g,this._ns),clearInterval(this._trackingInterval)}},release:{before:function(){this.element.classList.add("draggy-release"),clearTimeout(this._animateTimeout),this.element.style.transition=this.releaseDuration+"ms ease-out "+(this.css3?"transform":"position"),this._animateTimeout=setTimeout(()=>{this.state="idle"},this.releaseDuration),this.move(this.prevX+this.speed*Math.cos(this.angle),this.prevY+this.speed*Math.sin(this.angle)),this.speed=0,(0,h.emit)(this,"track")},after:function(){this.element.classList.remove("draggy-release"),this.element.style.transition=null}},reset:function(){return this.currentHandles.forEach(e=>{(0,h.off)(e,this._ns)}),clearTimeout(this._animateTimeout),(0,h.off)(g,this._ns),(0,h.off)(this.element,this._ns),"_"}};drag(e){e.preventDefault();var t=(0,y.x)(e,this.touchIdx),r=(0,y.y)(e,this.touchIdx),s=t-this.prevMouseX,o=r-this.prevMouseY,n=t,a=r;this._isFixed||(n+=_.pageXOffset,a+=_.pageYOffset),(e.ctrlKey||e.metaKey)&&(this.sniperOffsetX+=s*this.sniperSlowdown,this.sniperOffsetY+=o*this.sniperSlowdown),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.altKey=e.altKey;var l=n-this.initOffsetX-this.innerOffsetX-this.sniperOffsetX,u=a-this.initOffsetY-this.innerOffsetY-this.sniperOffsetY;this.move(l,u),this.prevMouseX=t,this.prevMouseY=r,(0,h.emit)(this,"drag"),(0,h.emit)(this.element,"drag",null,!0)}setTouch(e){if(!e.touches||this.touchIdx!==null)return this;this.touchIdx=Z,Z++}touchIdx=null;update(e){this._isFixed=Di(this.element),this.css3||(this.element.style.position="absolute"),this.currentHandles.forEach(n=>{(0,h.off)(n,this._ns)});var t=J(this.cancel);this.currentHandles=J(this.handle),this.currentHandles.forEach(n=>{(0,h.on)(n,"mousedown"+this._ns+" touchstart"+this._ns,a=>{a.draggies||(a.draggies=[]),!a.draggies.some(l=>this.element.contains(l.element))&&(t.some(l=>l.contains(a.target))||a.draggies.push(this))})}),this.updateLimits(),this.innerOffsetX=this.pin[0],this.innerOffsetY=this.pin[1];var r=this.element.getBoundingClientRect();if(e)this.prevMouseX=(0,y.x)(e,this.touchIdx),this.prevMouseY=(0,y.y)(e,this.touchIdx),this.innerOffsetX=-r.left+(0,y.x)(e,this.touchIdx),this.innerOffsetY=-r.top+(0,y.y)(e,this.touchIdx);else{var s=(this.pin[0]+this.pin[2])*.5,o=(this.pin[1]+this.pin[3])*.5;this.prevMouseX=r.left+s,this.prevMouseY=r.top+o,this.innerOffsetX=s,this.innerOffsetY=o}this.speed=0,this.amplitude=0,this.angle=0,this.timestamp=+new Date,this.frame=[this.prevX,this.prevY],this.sniperOffsetX=0,this.sniperOffsetY=0}updateLimits(){var e=this.getCoords();this.prevX=e[0],this.prevY=e[1],this.initX=e[0],this.initY=e[1];var t=(0,I.default)(this.element);this.initOffsetX=t.left-this.prevX,this.initOffsetY=t.top-this.prevY,this.offsets=t;var r=this.within;(this.within==="parent"||this.within===!0)&&(r=this.element.parentNode),r=r||g;var s=(0,I.default)(r);r===_&&this._isFixed&&(s.top-=_.pageYOffset,s.left-=_.pageXOffset,s.bottom-=_.pageYOffset,s.right-=_.pageXOffset),this.withinOffsets=s,this.overflowX=this.pin.width-s.width,this.overflowY=this.pin.height-s.height,this.limits={left:s.left-this.initOffsetX-this.pin[0]-(this.overflowX<0?0:this.overflowX),top:s.top-this.initOffsetY-this.pin[1]-(this.overflowY<0?0:this.overflowY),right:this.overflowX>0?0:s.right-this.initOffsetX-this.pin[2],bottom:this.overflowY>0?0:s.bottom-this.initOffsetY-this.pin[3]}}updateInfo(e,t){this.deltaX=e-this.prevX,this.deltaY=t-this.prevY,this.prevX=e,this.prevY=t,this.movementX=e-this.initX,this.movementY=t-this.initY}getCoords(){return this.css3?Ki(this.element).slice(0,2)||[0,0]:[(0,R.default)(this.element.style.left),(0,R.default)(this.element.style.top)]}setCoords(e,t){this.css3?(e==null&&(e=this.prevX),t==null&&(t=this.prevY),e=G(e,this.precision),t=G(t,this.precision),this.element.style.transform=`translate3d(${e}px, ${t}px, 0)`,this.updateInfo(e,t)):(e==null&&(e=this.prevX),t==null&&(t=this.prevY),e=G(e,this.precision),t=G(t,this.precision),this.element.style.left=e,this.element.style.top=t,this.updateInfo(e,t))}within=g;handle;set pin(e){Array.isArray(e)?e.length===2?this._pin=[e[0],e[1],e[0],e[1]]:e.length===4&&(this._pin=e):typeof e=="number"?this._pin=[e,e,e,e]:this._pin=e,this._pin.width=this._pin[2]-this._pin[0],this._pin.height=this._pin[3]-this._pin[1]}get pin(){if(this._pin)return this._pin;var e=[0,0,this.offsets.width,this.offsets.height];return e.width=this.offsets.width,e.height=this.offsets.height,e}set threshold(e){typeof e=="number"?this._threshold=[-e*.5,-e*.5,e*.5,e*.5]:e.length===2?this._threshold=[-e[0]*.5,-e[1]*.5,e[0]*.5,e[1]*.5]:e.length===4?this._threshold=e:typeof e=="function"?this._threshold=e():this._threshold=[0,0,0,0]}get threshold(){return this._threshold||[0,0,0,0]}release=!1;releaseDuration=500;velocity=1e3;maxSpeed=250;framerate=50;precision=1;droppable=null;droppableTolerance=.5;droppableClass=null;sniper=!0;sniperSlowdown=.85;move(e,t){if(this.axis==="x"){e==null&&(e=this.prevX),t==null&&(t=this.prevY);var r=this.limits;if(this.repeat){var s=r.right-r.left,o=-this.initOffsetX+this.withinOffsets.left-this.pin[0]-Math.max(0,this.overflowX);e=M(e-o,s)+o}else e=j(e,r.left,r.right);this.setCoords(e)}else if(this.axis==="y"){e==null&&(e=this.prevX),t==null&&(t=this.prevY);var r=this.limits;if(this.repeat){var n=r.bottom-r.top,a=-this.initOffsetY+this.withinOffsets.top-this.pin[1]-Math.max(0,this.overflowY);t=M(t-a,n)+a}else t=j(t,r.top,r.bottom);this.setCoords(null,t)}else{e==null&&(e=this.prevX),t==null&&(t=this.prevY);var r=this.limits;if(this.repeat){var s=r.right-r.left,n=r.bottom-r.top,o=-this.initOffsetX+this.withinOffsets.left-this.pin[0]-Math.max(0,this.overflowX),a=-this.initOffsetY+this.withinOffsets.top-this.pin[1]-Math.max(0,this.overflowY);this.repeat==="x"?e=M(e-o,s)+o:(this.repeat==="y"||(e=M(e-o,s)+o),t=M(t-a,n)+a)}e=j(e,r.left,r.right),t=j(t,r.top,r.bottom),this.setCoords(e,t)}}repeat=!1;destroy(){this.currentHandles.forEach(e=>{(0,h.off)(e,this._ns)}),this.state="destroy",clearTimeout(this._animateTimeout),(0,h.off)(g,this._ns),(0,h.off)(this.element,this._ns),this.element=null,this.within=null}};function ki(i){if(!i[0]&&!i[1]&&!i[2]&&!i[3])return!0}function J(i){return Array.isArray(i)?i.map(J).reduce(function(e,t){return e.concat(t)},[]):i instanceof HTMLElement?[i]:[].slice.call(document.querySelectorAll(i))}function Wi(i,e,t=0){let r=Math.max(0,Math.min(i.right,e.right)-Math.max(i.left,e.left)),s=Math.max(0,Math.min(i.bottom,e.bottom)-Math.max(i.top,e.top)),o=r*s,n=(i.right-i.left)*(i.bottom-i.top),a=(e.right-e.left)*(e.bottom-e.top),l=Math.min(n,a);return o>=t*l}function M(i,e,t){if(t===void 0&&(t=e,e=0),e>t){var r=t;t=e,e=r}var s=t-e;return i=(i+e)%s-e,i<e&&(i+=s),i>t&&(i-=s),i}function j(i,e,t){return Math.max(e,Math.min(i,t))}function G(i,e){return e===0?i:e?(e=parseFloat(e),i=Math.round(i/e)*e,parseFloat(i.toFixed(Pi(e)))):Math.round(i)}function Pi(i){var e=i+"",t=e.indexOf(".")+1;return t?e.length-t:0}var xt={disable(i){i.style.userSelect="none",i.style.userDrag="none",i.style.touchCallout="none",i.setAttribute("unselectable","on"),i.addEventListener("selectstart",e=>e.preventDefault())},enable(i){i.style.userSelect=null,i.style.userDrag=null,i.style.touchCallout=null,i.removeAttribute("unselectable"),i.removeEventListener("selectstart",e=>e.preventDefault())}};function Ki(i){var e=i.style.transform,t=/translate(?:3d)?\s*\(([^\)]*)\)/.exec(e);if(!t)return[0,0];var r=t[1].split(/\s*,\s*/);return[(0,R.default)(r[0]),(0,R.default)(r[1])]}function Di(i){var e=i;if(i===window)return!0;if(i===document)return!1;for(;e;){if(getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}var Y=xe;var E=m(ge(),1),fi=m(ee(),1),li=m(k(),1),ui=m(Se(),1),x=m(Yt(),1),di=m(Gt(),1),p=m(fe(),1),ci=m(ti(),1),pi=m(si(),1),mi=m(ai(),1),Oe=m(ue(),1),Ji=document;var hi=Ji.documentElement;function ne(i,e){var t=this;if(!(t instanceof ne))return new ne(i,e);t.element=i,Object.assign(t,e),t.draggable===!0?t.draggable=new Y(t.element,{within:t.within,css3:t.css3}):t.draggable?(t.draggable=new Y(t.element,t.draggable),t.draggable.css3=t.css3):t.draggable=new Y(t.element,{handle:null}),t.createHandles(),t.resize&&t.on("resize",t.resize)}var C=ne.prototype;C.css3=!0;C.draggable=!1;C.createHandles=function(){var i=this,e;if((0,fi.default)(i.handles)){e={};for(var t=i.handles.length;t--;)e[i.handles[t]]=null}else if((0,li.default)(i.handles)){e={};for(var r=i.handles.match(/([swne]+)/g),t=r.length;t--;)e[r[t]]=null}else if((0,ui.default)(i.handles))e=i.handles;else{var s=getComputedStyle(i.element).position,o=getComputedStyle(i.element).display;/inline/.test(o)||/static/.test(s)?(e={s:null,se:null,e:null},(0,p.default)(i.element,"position","relative")):e={s:null,se:null,e:null,ne:null,n:null,nw:null,w:null,sw:null}}var n;for(var a in e)e[a]=i.createHandle(e[a],a);i.handles=e};C.createHandle=function(i,e){var t=this,r=t.element;i||(i=document.createElement("div"),i.classList.add("resizable-handle")),t.element.appendChild(i),i.direction=e;var s=t.within==="parent"?t.element.parentNode:t.within,o=new Y(i,{within:s,threshold:t.threshold,axis:/^[ns]$/.test(e)?"y":/^[we]$/.test(e)?"x":"both"});return o.on("dragstart",function(n){t.m=(0,mi.default)(r),t.b=(0,pi.default)(r),t.p=(0,ci.default)(r),t.draggable.update(n);var a=getComputedStyle(r);if(t.offsets=t.draggable.getCoords(),getComputedStyle(r).boxSizing==="border-box"&&(t.p.top=0,t.p.bottom=0,t.p.left=0,t.p.right=0,t.b.top=0,t.b.bottom=0,t.b.left=0,t.b.right=0),t.initSize=[r.offsetWidth-t.b.left-t.b.right-t.p.left-t.p.right,r.offsetHeight-t.b.top-t.b.bottom-t.p.top-t.p.bottom],t.initSizeFull=[r.offsetWidth,r.offsetHeight],t.prevCoords=[0,0],t.shiftOffset=[0,0],t.center=[t.offsets[0]+t.initSize[0]/2,t.offsets[1]+t.initSize[1]/2],t.within){var l=(0,Oe.default)(s),u=(0,Oe.default)(r);t.maxSize=[u.left-l.left+t.initSize[0],u.top-l.top+t.initSize[1],l.right-u.right+t.initSize[0],l.bottom-u.bottom+t.initSize[1]]}else t.maxSize=[9999,9999,9999,9999];(0,p.default)(hi,{cursor:e+"-resize"});for(var c in t.handles)(0,p.default)(t.handles[c],"cursor",null);(0,E.default)(t,"resizestart"),(0,E.default)(r,"resizestart")}),o.on("drag",function(){var n=o.getCoords(),a=[r.offsetWidth,r.offsetHeight];if(o.shiftKey){switch(e){case"se":case"s":case"e":break;case"nw":n[0]=-n[0],n[1]=-n[1];break;case"n":n[1]=-n[1];break;case"w":n[0]=-n[0];break;case"ne":n[1]=-n[1];break;case"sw":n[0]=-n[0];break}(0,p.default)(r,{width:Math.min(t.initSize[0]+n[0]*2,t.maxSize[2]+n[0],t.maxSize[0]+n[0]),height:Math.min(t.initSize[1]+n[1]*2,t.maxSize[3]+n[1],t.maxSize[1]+n[1])});var l=a[0]-r.offsetWidth,u=a[1]-r.offsetHeight;t.draggable.updateLimits(),l&&t.draggable.move(t.center[0]-t.initSize[0]/2-n[0]),u&&t.draggable.move(null,t.center[1]-t.initSize[1]/2-n[1])}else switch(e){case"se":(0,p.default)(r,{width:Math.min(t.initSize[0]+n[0],t.maxSize[2]),height:Math.min(t.initSize[1]+n[1],t.maxSize[3])});case"s":(0,p.default)(r,{height:Math.min(t.initSize[1]+n[1],t.maxSize[3])});case"e":(0,p.default)(r,{width:Math.min(t.initSize[0]+n[0],t.maxSize[2])});case"se":case"s":case"e":t.draggable.updateLimits(),t.draggable.move(t.center[0]-t.initSize[0]/2,t.center[1]-t.initSize[1]/2);break;case"nw":(0,p.default)(r,{width:(0,x.default)(t.initSize[0]-n[0],0,t.maxSize[0]),height:(0,x.default)(t.initSize[1]-n[1],0,t.maxSize[1])});case"n":(0,p.default)(r,{height:(0,x.default)(t.initSize[1]-n[1],0,t.maxSize[1])});case"w":(0,p.default)(r,{width:(0,x.default)(t.initSize[0]-n[0],0,t.maxSize[0])});case"nw":case"n":case"w":t.draggable.updateLimits();var d=t.initSizeFull[0]-r.offsetWidth,c=t.initSizeFull[1]-r.offsetHeight;t.draggable.move(t.offsets[0]+d,t.offsets[1]+c);break;case"ne":(0,p.default)(r,{width:(0,x.default)(t.initSize[0]+n[0],0,t.maxSize[2]),height:(0,x.default)(t.initSize[1]-n[1],0,t.maxSize[1])}),t.draggable.updateLimits();var c=t.initSizeFull[1]-r.offsetHeight;t.draggable.move(null,t.offsets[1]+c);break;case"sw":(0,p.default)(r,{width:(0,x.default)(t.initSize[0]-n[0],0,t.maxSize[0]),height:(0,x.default)(t.initSize[1]+n[1],0,t.maxSize[3])}),t.draggable.updateLimits();var d=t.initSizeFull[0]-r.offsetWidth;t.draggable.move(t.offsets[0]+d);break}(0,E.default)(t,"resize"),(0,E.default)(r,"resize"),o.setCoords(0,0)}),o.on("dragend",function(){(0,p.default)(hi,{cursor:null});for(var n in t.handles)(0,p.default)(t.handles[n],"cursor",t.handles[n].direction+"-resize");(0,E.default)(t,"resizeend"),(0,E.default)(r,"resizeend")}),(0,p.default)(i,er[e]),(0,p.default)(i,"cursor",e+"-resize"),i.classList.add("resizable-handle-"+e),i};C.destroy=function(){for(var i in this.handles)this.element.removeChild(this.handles[i]),Y.cache.get(this.handles[i]).destroy();this.element=null};var v=10;C.threshold=v;var er=(0,di.default)({"e,w,n,s,nw,ne,sw,se":{position:"absolute"},"e,w":{"top, bottom":0,width:v},e:{left:"auto",right:-v/2},w:{right:"auto",left:-v/2},s:{top:"auto",bottom:-v/2},n:{bottom:"auto",top:-v/2},"n,s":{"left, right":0,height:v},"nw,ne,sw,se":{width:v,height:v,"z-index":1},nw:{"top, left":-v/2,"bottom, right":"auto"},ne:{"top, right":-v/2,"bottom, left":"auto"},sw:{"bottom, left":-v/2,"top, right":"auto"},se:{"bottom, right":-v/2,"top, left":"auto"}},!0),Vr=ne;export{Vr as default};
/*! Bundled license information:

is-primitive/index.js:
  (*!
   * is-primitive <https://github.com/jonschlinkert/is-primitive>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)
*/
//# sourceMappingURL=resizable.min.js.map
